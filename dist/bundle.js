(()=>{"use strict";var __webpack_modules__={249:(e,t,r)=>{var n;r.d(t,{Z:()=>o}),function(e){e.END="END",e.PENDING="PENDING"}(n||(n={}));const o=n},741:(e,t,r)=>{var n;r.d(t,{Z:()=>o}),function(e){e.Cross="X",e.Circle="O"}(n||(n={}));const o=n},974:(e,t,r)=>{r.d(t,{I:()=>n});var n=function(e,t){for(t(e),e=e.firstElementChild;e;)n(e,t),e=e.nextElementSibling}},234:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _enum_GameStatus__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(249),_enum_PlayerShape__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(741),_utils_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(974),View=function(){function View(){this.playerSelectedStyle="rounded-lg shadow-xl shadow w-36 border-b-8 border-indigo-800 dark:bg-gray-700".split(" "),this.playerNotSelectedStyle="rounded-lg w-36 border-b-8 border-transparent".split(" ")}return View.prototype.createElement=function(e,t,r){var n;void 0===r&&(r="");var o=document.createElement(e);return t&&(n=o.classList).add.apply(n,t),r&&(o.id=r),o},View.prototype.getPlayerNotSelectedStyle=function(){return this.playerNotSelectedStyle},View.prototype.getPlayerSelectedStyle=function(){return this.playerSelectedStyle},View.prototype.getElement=function(e){return document.querySelector(e)},View.prototype.init=function(game,callback){var _a,_this=this,boardGame=[],root=this.getElement("#root"),classList=[];switch(game.getBoardGame().getSize()){case 3:classList=["grid","grid-cols-3","gap-3"];break;case 4:classList=["grid","grid-cols-4","gap-4"];break;case 5:classList=["grid","grid-cols-5","gap-5"];break;default:classList=["grid","grid-cols-3","gap-3"]}classList=["grid","grid-cols-"+game.getBoardGame().getSize(),"gap-"+game.getBoardGame().getSize()],null==root||(_a=root.classList).add.apply(_a,classList),game.getBoardGame().getBoard().map((function(row){row.map((function(cell){var wrapper=_this.createElement("div",["bg-gray-100","dark:bg-gray-700","rounded-lg","shadow-xl","w-36"]);wrapper.dataset.coordinates='({"row" : '+cell.getRow()+', "col": '+cell.getCol()+"})";var element=_this.createElement("div",["h-32","text-9xl","font-bold","flex","justify-center"]);wrapper.addEventListener("click",(function(event){if(!event.currentTarget.querySelector("svg")){var data=this.getAttribute("data-coordinates");if(data){var coordinate=eval(data);callback(coordinate.row,coordinate.col)}}})),wrapper.append(element),boardGame.push(wrapper)}))})),boardGame.forEach((function(e){null==root||root.appendChild(e)}));var players=this.getElement("#players"),player1=this.createElement("div",this.getPlayerSelectedStyle(),game.getPlayers()[0].getName());player1.innerHTML='<div class="h-32 flex justify-center items-center">\n            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-32 h-32" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n        </svg>\n        </div>';var player2=this.createElement("div",this.getPlayerNotSelectedStyle(),game.getPlayers()[1].getName());player2.innerHTML='<div class="h-32 font-bold flex justify-center items-center">\n            <svg class="w-24 h-24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n                <path d="M10 .4A9.6 9.6 0 0 0 .4 10a9.6 9.6 0 1 0 19.2-.001C19.6 4.698 15.301.4 10 .4zm0 17.199A7.6 7.6 0 1 1 10 2.4a7.6 7.6 0 1 1 0 15.199z"/>\n            </svg>\n        </div>',null==players||players.appendChild(player1),null==players||players.appendChild(player2)},View.prototype.refreshDOM=function(row,col,content){var root=document.querySelector("#root");(0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.I)(root,(function(el){var coordinateAttribute=el.getAttribute("data-coordinates");if(coordinateAttribute){var coordinate=eval(coordinateAttribute);if(coordinate.row===row&&coordinate.col===col){var childDiv=el.firstElementChild;childDiv&&(content===_enum_PlayerShape__WEBPACK_IMPORTED_MODULE_1__.Z.Cross?childDiv.innerHTML='<div class="h-32 flex justify-center items-center">\n                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-32 h-32" stroke="currentColor">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n                            </svg>\n                            </div>':content===_enum_PlayerShape__WEBPACK_IMPORTED_MODULE_1__.Z.Circle&&(childDiv.innerHTML='<div class="h-32 font-bold flex justify-center items-center">\n                                <svg class="w-24 h-24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n                                    <path d="M10 .4A9.6 9.6 0 0 0 .4 10a9.6 9.6 0 1 0 19.2-.001C19.6 4.698 15.301.4 10 .4zm0 17.199A7.6 7.6 0 1 1 10 2.4a7.6 7.6 0 1 1 0 15.199z"/>\n                                </svg>\n                            </div>'))}}}))},View.prototype.refreshPlayers=function(e){var t,r,n=this,o=document.querySelector("#players");if(e.getGameStatus()!==_enum_GameStatus__WEBPACK_IMPORTED_MODULE_0__.Z.END||e.getWinner())(0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.I)(o,(function(t){var r,o;t.id===e.getPlayers()[0].getName()?(t.classList.value="",(r=t.classList).add.apply(r,n.getPlayerSelectedStyle())):t.id===e.getPlayers()[1].getName()&&(t.classList.value="",(o=t.classList).add.apply(o,n.getPlayerNotSelectedStyle()))}));else{var i=document.getElementById(""+e.getPlayers()[0].getName()),a=document.getElementById(""+e.getPlayers()[1].getName());i&&a&&(i.classList.value="",(t=i.classList).add.apply(t,this.getPlayerNotSelectedStyle()),a.classList.value="",(r=a.classList).add.apply(r,this.getPlayerNotSelectedStyle()))}},View}();const __WEBPACK_DEFAULT_EXPORT__=View}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=__webpack_require__(249);const t=function(){function e(e,t){this.row=e,this.col=t}return e.prototype.getRow=function(){return this.row},e.prototype.getCol=function(){return this.col},e.prototype.equals=function(e){return this.row===e.getRow()&&this.col===e.getCol()},e}();var r,n=__webpack_require__(741),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const i=function(e){function t(t,r,n,o){void 0===n&&(n=void 0),void 0===o&&(o=!1);var i=e.call(this,t,r)||this;return i.content=n,i.isSelected=o,i}return o(t,e),t.prototype.getContent=function(){return this.content},t.prototype.getStatus=function(){return this.isSelected},t.prototype.setCell=function(e,t){this.content=e,this.isSelected=t},t}(t),a=function(){function e(e){void 0===e&&(e=3),this.size=e,this.board=[];for(var t=0;t<e;t++){for(var r=[],n=0;n<e;n++)r.push(new i(t,n));this.board.push(r)}}return e.prototype.getBoard=function(){return this.board},e.prototype.getSize=function(){return this.size},e.prototype.getCell=function(e){return this.board[e.getRow()][e.getCol()]},e.prototype.getRow=function(e){return this.board[e.getRow()]},e.prototype.getCol=function(e){var t=[];return this.board.map((function(r){r.map((function(r){r.getCol()!==e.getCol()||t.push(r)}))})),t},e.prototype.getDiagonal=function(e){var t=[this.getCell(e)],r=[this.getCell(e)];return this.board.map((function(n){n.map((function(n){var o=(n.getCol()-e.getCol())/(n.getRow()-e.getRow());1!==o?-1!==o||r.push(n):t.push(n)}))})),[t.sort((function(e,t){return e.getRow()-t.getRow()})),r.sort((function(e,t){return e.getRow()-t.getRow()}))]},e.prototype.setCell=function(e,t,r){this.getCell(e).setCell(t,r)},e}(),l=function(){function e(e,t){this.name=e,this.form=t}return e.prototype.getName=function(){return this.name},e.prototype.getForm=function(){return this.form},e}(),s=function(){function t(t,r){void 0===t&&(t=3),void 0===r&&(r=[new l("Player 1",n.Z.Cross),new l("Player 2",n.Z.Circle)]),this.gameStatus=e.Z.PENDING,this.players=r,this.boardGame=new a(t),this.remainingCells=t*t,this.currentPlayer=r[0]}return t.prototype.getPlayers=function(){return this.players},t.prototype.getBoardGame=function(){return this.boardGame},t.prototype.getCurrentPlayer=function(){return this.currentPlayer},t.prototype.getGameStatus=function(){return this.gameStatus},t.prototype.getRemainingCells=function(){return this.remainingCells},t.prototype.getWinner=function(){return this.winner},t.prototype.setCurrentPlayer=function(e){this.currentPlayer=e},t.prototype.setGameStatus=function(e){this.gameStatus=e},t.prototype.setRemainingCells=function(e){this.remainingCells=e},t.prototype.setWinner=function(e){this.winner=e},t.prototype.playerAction=function(t){if(this.gameStatus===e.Z.PENDING&&(this.boardGame.setCell(t,this.currentPlayer.getForm(),!0),this.setRemainingCells(this.getRemainingCells()-1),!this.isOver(t))){var r=this.players.shift();this.currentPlayer=this.players[0],r&&this.players.push(r)}},t.prototype.isOver=function(t){var r=!1,n=this.boardGame.getSize();return this.checkRow(t,n,this.currentPlayer)||this.checkCol(t,n,this.currentPlayer)||this.checkDiagonal(t,n,this.currentPlayer)?(r=!0,this.setWinner(this.currentPlayer),this.setGameStatus(e.Z.END),r):0===this.getRemainingCells()?(r=!0,this.setGameStatus(e.Z.END),r):r},t.prototype.checkRow=function(e,t,r){var n=!1,o=this.getCellsInRowSelectedByPlayer(e,r);return o.length===t&&(n=o.filter((function(e){return e.getContent()===r.getForm()})).length===t),n},t.prototype.checkCol=function(e,t,r){var n=!1,o=this.getCellsInColSelectedByPLayer(e,r);return o.length===t&&(n=o.filter((function(e){return e.getContent()===r.getForm()})).length===t),n},t.prototype.checkDiagonal=function(e,t,r){var n=!1,o=this.getCellsInDiagonalSelectedByPLayer(e,r)[0],i=this.getCellsInDiagonalSelectedByPLayer(e,r)[1];return o.length===t&&(n=o.filter((function(e){return e.getContent()===r.getForm()})).length===t)||i.length===t&&(n=i.filter((function(e){return e.getContent()===r.getForm()})).length===t),n},t.prototype.getCellsInRowSelectedByPlayer=function(e,t){return this.getBoardGame().getRow(e).filter((function(e){return e.getContent()===t.getForm()}))},t.prototype.getCellsInColSelectedByPLayer=function(e,t){return this.getBoardGame().getCol(e).filter((function(e){return e.getContent()===t.getForm()}))},t.prototype.getCellsInDiagonalSelectedByPLayer=function(e,t){var r=this.getBoardGame().getDiagonal(e),n=r[0],o=r[1];return[n.filter((function(e){return e.getContent()===t.getForm()})),o.filter((function(e){return e.getContent()===t.getForm()}))]},t}();var c=__webpack_require__(234);const u=function(){function r(e){void 0===e&&(e=3),this.game=new s(e),this.view=new c.Z}return r.prototype.init=function(){this.view.init(this.game,this.handlePlayer.bind(this))},r.prototype.getGame=function(){return this.game},r.prototype.getView=function(){return this.view},r.prototype.handlePlayer=function(r,n){if(this.game.getGameStatus()===e.Z.PENDING){var o=this.game.getBoardGame().getCell(new t(r,n));this.view.refreshDOM(r,n,this.game.getCurrentPlayer().getForm()),this.game.playerAction(new t(o.getRow(),o.getCol())),this.view.refreshPlayers(this.getGame())}},r}();var p=window.location.search,_=new URLSearchParams(p),g=Number(_.get("size"));g>2&&g<6?new u(g).init():(location.href=location.href.replace("?size="+g,"?size=3"),(new u).init())})()})();